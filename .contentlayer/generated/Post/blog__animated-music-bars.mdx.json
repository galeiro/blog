{
  "title": "Animated music bars with CSS",
  "summary": "How to create an animated icon perfect for visualizing music",
  "publishedAt": "2021-01-31",
  "tags": [
    "CSS",
    "Animation"
  ],
  "body": {
    "raw": "\nMy site is a place to learn and try new tech, so after seeing Lee Robinsons post on [Using the Spotify API with Next.js](https://leerob.io/blog/spotify-api-nextjs) this was definitely something I wanted to try out. The goal was to add a \"Now playing\" widget to the footer showing what I'm currently listening to on Spotify.\n\nA few years back I purchased the first version of  Apple Watch, and I remember that the \"Now playing\" complication had a very pleasant animation with \"bars\" jumping up and down. This tutorial shows how to create a similar animation perfect for visualizing music. This is what we're building: (psst, if I'm listening to music right now you can watch a live example in the footer…)\n\n<div style={{ padding: '50px', backgroundColor: 'var(--boxBg)', borderRadius: '5px', textAlign: 'center' }}>\n  <NowPlayingIcon />\n</div>\n\n## Let's get started\n\nThis animation is written in css modules with sass in a Next.js/Typescript project but can easily be adjusted to pure css by not using nesting & creating unique classes.\n\nLet's start by creating a wrapper div that will contain our bars, then we'll add a span tag for every bar:\n\n```tsx\nimport styles from './nowplaying.module.scss'\n\n<div className={styles.icon}>\n  <span />\n  <span />\n  <span />\n</div>\n```\n\nWe'll add some containing styles to our wrapper element and style each bar:\n\n```scss\n.icon {\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  width: 13px;\n  height: 13px;\n\n  span {\n    width: 3px;\n    height: 100%;\n    background-color: orange;\n    border-radius: 3px;\n    content: '';\n  }\n}\n```\nWhich renders:\n<div style={{ padding: '50px', backgroundColor: 'var(--boxBg)', borderRadius: '5px', textAlign: 'center' }}>\n  <div style={{ position: 'relative', display: 'inline-flex', justifyContent: 'space-between', width: 13, height: 13 }}>\n    <span style={{width: 3, height: '100%', backgroundColor: 'var(--brand)', content: '', borderRadius: 3 }} />\n    <span style={{width: 3, height: '100%', backgroundColor: 'var(--brand)', content: '', borderRadius: 3 }} />\n    <span style={{width: 3, height: '100%', backgroundColor: 'var(--brand)', content: '', borderRadius: 3 }} />\n  </div>\n</div>\n\nTo make our bars jump we'll create a keyframe animation, transforming each bar's scaleY up and down indefinitely and apply it to our bars.\n\n<Warning>Because our bars have border-radius set, the radius will scale as well. This isn't ideal but I feel like it's a fair trade-off instead of animating the height in order to keep our animation at 60fps. <Link href=\"https://www.html5rocks.com/en/tutorials/speed/high-performance-animations/\">Read more about high performance animations</Link></Warning>\n<br />\n\n```scss\n@keyframes bounce {\n  10% {\n    transform: scaleY(0.3); /* start by scaling to 30% */\n  }\n\n  30% {\n    transform: scaleY(1); /* scale up to 100% */\n  }\n\n  60% {\n    transform: scaleY(0.5); /* scale down to 50% */\n  }\n\n  80% {\n    transform: scaleY(0.75); /* scale up to 75% */\n  }\n\n  100% {\n    transform: scaleY(0.6); /* scale down to 60% */\n  }\n}\n\nspan {\n  width: 3px;\n  height: 100%;\n  background-color: orange;\n  border-radius: 3px;\n  animation: bounce 2.2s ease infinite alternate;\n  content: '';\n}\n```\n\nThe infinite property basically tells our animation to keep going forever, and alternate is the short-hand for [animation-direction](https://developer.mozilla.org/en-US/docs/Web/CSS/animation-direction) saying that the animation should be played forwards first, then backwards keeping our animation smooth.\n\n<div style={{ padding: '50px', backgroundColor: 'var(--boxBg)', borderRadius: '5px', textAlign: 'center' }}>\n  <div style={{ position: 'relative', display: 'inline-flex', justifyContent: 'space-between', width: 13, height: 13 }}>\n    <span style={{width: 3, height: '100%', backgroundColor: 'var(--brand)', content: '', borderRadius: 3, animation: 'bounce 2.2s ease infinite alternate' }} />\n    <span style={{width: 3, height: '100%', backgroundColor: 'var(--brand)', content: '', borderRadius: 3, animation: 'bounce 2.2s ease infinite alternate'  }} />\n    <span style={{width: 3, height: '100%', backgroundColor: 'var(--brand)', content: '', borderRadius: 3, animation: 'bounce 2.2s ease infinite alternate'  }} />\n  </div>\n</div>\n\nWe have a few problems though. First, the bars are scaling from the center instead of the bottom. We can solve this by adding a transform-origin of bottom:\n\n```scss\nspan {\n  width: 3px;\n  height: 100%;\n  background-color: orange;\n  border-radius: 3px;\n  transform-origin: bottom;\n  animation: bounce 2.2s ease infinite alternate;\n  content: '';\n}\n```\n\n<div style={{ padding: '50px', backgroundColor: 'var(--boxBg)', borderRadius: '5px', textAlign: 'center' }}>\n  <div style={{ position: 'relative', display: 'inline-flex', justifyContent: 'space-between', width: 13, height: 13 }}>\n    <span style={{width: 3, height: '100%', backgroundColor: 'var(--brand)', content: '', borderRadius: 3, animation: 'bounce 2.2s ease infinite alternate', transformOrigin: 'bottom' }} />\n    <span style={{width: 3, height: '100%', backgroundColor: 'var(--brand)', content: '', borderRadius: 3, animation: 'bounce 2.2s ease infinite alternate', transformOrigin: 'bottom' }} />\n    <span style={{width: 3, height: '100%', backgroundColor: 'var(--brand)', content: '', borderRadius: 3, animation: 'bounce 2.2s ease infinite alternate', transformOrigin: 'bottom' }} />\n  </div>\n</div>\n\nNow our bars are animating in height but aligned to the bottom! The last thing we need to do is change so that they are not animating at the same time. We want each bar to start animating at a different time so we'll reach for the animation-delay property. But we can't simply delay each bar, because then the animation would't look good the first few seconds. If we add a negative value to animation-delay, the animation will begin immediately but partway through its cycle. From [MDN Docs](https://developer.mozilla.org/en-US/docs/Web/CSS/animation-delay):\n\n> For example, if you specify -1s as the animation delay time, the animation will begin immediately but will start 1 second into the animation sequence.\n\nLet's add different animation-delays to our bars with the :nth-of-type() selector:\n\n```scss\nspan {\n  &:nth-of-type(2) {\n    animation-delay: -2.2s; /* Start at the end of animation */\n  }\n\n  &:nth-of-type(3) {\n    animation-delay: -3.7s; /* Start mid-way of return of animation */\n  }\n}\n```\n\n<div style={{ padding: '50px', backgroundColor: 'var(--boxBg)', borderRadius: '5px', textAlign: 'center' }}>\n  <NowPlayingIcon />\n</div>\n\nVoila! We now have a smooth working animation, perfect for building a music widget like the one on this website or similar! Check out the [full source code on GitHub](https://github.com/samuelkraft/samuelkraft-next/blob/master/components/nowplaying.module.scss).\n",
    "code": "var Component=(()=>{var h=Object.create;var i=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),b=(a,e)=>{for(var s in e)i(a,s,{get:e[s],enumerable:!0})},o=(a,e,s,c)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let t of u(e))!k.call(a,t)&&t!==s&&i(a,t,{get:()=>e[t],enumerable:!(c=m(e,t))||c.enumerable});return a};var y=(a,e,s)=>(s=a!=null?h(N(a)):{},o(e||!a||!a.__esModule?i(s,\"default\",{value:a,enumerable:!0}):s,a)),f=a=>o(i({},\"__esModule\",{value:!0}),a);var p=g((R,r)=>{r.exports=_jsx_runtime});var C={};b(C,{default:()=>v,frontmatter:()=>w});var n=y(p()),w={title:\"Animated music bars with CSS\",publishedAt:\"2021-01-31\",summary:\"How to create an animated icon perfect for visualizing music\",tags:[\"CSS\",\"Animation\"]};function d(a){let e=Object.assign({p:\"p\",a:\"a\",h2:\"h2\",pre:\"pre\",code:\"code\",span:\"span\",blockquote:\"blockquote\"},a.components),{NowPlayingIcon:s,Warning:c,Link:t}=e;return t||l(\"Link\",!0,\"62:210-62:348\"),s||l(\"NowPlayingIcon\",!0,\"13:3-13:21\"),c||l(\"Warning\",!0,\"62:1-62:358\"),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[\"My site is a place to learn and try new tech, so after seeing Lee Robinsons post on \",(0,n.jsx)(e.a,{href:\"https://leerob.io/blog/spotify-api-nextjs\",children:\"Using the Spotify API with Next.js\"}),` this was definitely something I wanted to try out. The goal was to add a \"Now playing\" widget to the footer showing what I'm currently listening to on Spotify.`]}),`\n`,(0,n.jsx)(e.p,{children:`A few years back I purchased the first version of \\uF8FF Apple Watch, and I remember that the \"Now playing\" complication had a very pleasant animation with \"bars\" jumping up and down. This tutorial shows how to create a similar animation perfect for visualizing music. This is what we're building: (psst, if I'm listening to music right now you can watch a live example in the footer\\u2026)`}),`\n`,(0,n.jsx)(\"div\",{style:{padding:\"50px\",backgroundColor:\"var(--boxBg)\",borderRadius:\"5px\",textAlign:\"center\"},children:(0,n.jsx)(s,{})}),`\n`,(0,n.jsx)(e.h2,{children:\"Let's get started\"}),`\n`,(0,n.jsx)(e.p,{children:\"This animation is written in css modules with sass in a Next.js/Typescript project but can easily be adjusted to pure css by not using nesting & creating unique classes.\"}),`\n`,(0,n.jsx)(e.p,{children:\"Let's start by creating a wrapper div that will contain our bars, then we'll add a span tag for every bar:\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-tsx\",children:(0,n.jsxs)(e.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:\"styles\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'./nowplaying.module.scss'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"div\"]}),\" \",(0,n.jsx)(e.span,{className:\"token attr-name\",children:\"className\"}),(0,n.jsxs)(e.span,{className:\"token script language-javascript\",children:[(0,n.jsx)(e.span,{className:\"token script-punctuation punctuation\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"styles\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"icon\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"  \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"span\"]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"  \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"span\"]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\",children:\"  \"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"<\"}),\"span\"]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"/>\"})]}),(0,n.jsx)(e.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token plain-text\"}),(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsxs)(e.span,{className:\"token tag\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"</\"}),\"div\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"We'll add some containing styles to our wrapper element and style each bar:\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-scss\",children:(0,n.jsxs)(e.code,{className:\"language-scss code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token selector\",children:\".icon \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"position\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" relative\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"display\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" flex\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"justify-content\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" space-between\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"width\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" 13px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"height\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" 13px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token selector\",children:\"span \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"width\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" 3px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"height\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" 100%\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"background-color\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" orange\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"border-radius\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" 3px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"content\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:\"Which renders:\"}),`\n`,(0,n.jsx)(\"div\",{style:{padding:\"50px\",backgroundColor:\"var(--boxBg)\",borderRadius:\"5px\",textAlign:\"center\"},children:(0,n.jsxs)(\"div\",{style:{position:\"relative\",display:\"inline-flex\",justifyContent:\"space-between\",width:13,height:13},children:[(0,n.jsx)(\"span\",{style:{width:3,height:\"100%\",backgroundColor:\"var(--brand)\",content:\"\",borderRadius:3}}),(0,n.jsx)(\"span\",{style:{width:3,height:\"100%\",backgroundColor:\"var(--brand)\",content:\"\",borderRadius:3}}),(0,n.jsx)(\"span\",{style:{width:3,height:\"100%\",backgroundColor:\"var(--brand)\",content:\"\",borderRadius:3}})]})}),`\n`,(0,n.jsx)(e.p,{children:\"To make our bars jump we'll create a keyframe animation, transforming each bar's scaleY up and down indefinitely and apply it to our bars.\"}),`\n`,(0,n.jsxs)(c,{children:[\"Because our bars have border-radius set, the radius will scale as well. This isn't ideal but I feel like it's a fair trade-off instead of animating the height in order to keep our animation at 60fps. \",(0,n.jsx)(t,{href:\"https://www.html5rocks.com/en/tutorials/speed/high-performance-animations/\",children:\"Read more about high performance animations\"})]}),`\n`,(0,n.jsx)(\"br\",{}),`\n`,(0,n.jsx)(e.pre,{className:\"language-scss\",children:(0,n.jsxs)(e.code,{className:\"language-scss code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsxs)(e.span,{className:\"token atrule\",children:[(0,n.jsx)(e.span,{className:\"token rule\",children:\"@keyframes\"}),\" bounce\"]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token selector\",children:\"10% \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"transform\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"scaleY\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"0.3\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"/* start by scaling to 30% */\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token selector\",children:\"30% \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"transform\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"scaleY\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"/* scale up to 100% */\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token selector\",children:\"60% \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"transform\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"scaleY\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"0.5\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"/* scale down to 50% */\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token selector\",children:\"80% \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"transform\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"scaleY\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"0.75\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"/* scale up to 75% */\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token selector\",children:\"100% \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"transform\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"scaleY\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"0.6\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"/* scale down to 60% */\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token selector\",children:\"span \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"width\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" 3px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"height\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" 100%\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"background-color\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" orange\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"border-radius\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" 3px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"animation\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" bounce 2.2s ease infinite alternate\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"content\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"The infinite property basically tells our animation to keep going forever, and alternate is the short-hand for \",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/CSS/animation-direction\",children:\"animation-direction\"}),\" saying that the animation should be played forwards first, then backwards keeping our animation smooth.\"]}),`\n`,(0,n.jsx)(\"div\",{style:{padding:\"50px\",backgroundColor:\"var(--boxBg)\",borderRadius:\"5px\",textAlign:\"center\"},children:(0,n.jsxs)(\"div\",{style:{position:\"relative\",display:\"inline-flex\",justifyContent:\"space-between\",width:13,height:13},children:[(0,n.jsx)(\"span\",{style:{width:3,height:\"100%\",backgroundColor:\"var(--brand)\",content:\"\",borderRadius:3,animation:\"bounce 2.2s ease infinite alternate\"}}),(0,n.jsx)(\"span\",{style:{width:3,height:\"100%\",backgroundColor:\"var(--brand)\",content:\"\",borderRadius:3,animation:\"bounce 2.2s ease infinite alternate\"}}),(0,n.jsx)(\"span\",{style:{width:3,height:\"100%\",backgroundColor:\"var(--brand)\",content:\"\",borderRadius:3,animation:\"bounce 2.2s ease infinite alternate\"}})]})}),`\n`,(0,n.jsx)(e.p,{children:\"We have a few problems though. First, the bars are scaling from the center instead of the bottom. We can solve this by adding a transform-origin of bottom:\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-scss\",children:(0,n.jsxs)(e.code,{className:\"language-scss code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token selector\",children:\"span \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"width\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" 3px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"height\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" 100%\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"background-color\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" orange\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"border-radius\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" 3px\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"transform-origin\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" bottom\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"animation\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" bounce 2.2s ease infinite alternate\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token property\",children:\"content\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(\"div\",{style:{padding:\"50px\",backgroundColor:\"var(--boxBg)\",borderRadius:\"5px\",textAlign:\"center\"},children:(0,n.jsxs)(\"div\",{style:{position:\"relative\",display:\"inline-flex\",justifyContent:\"space-between\",width:13,height:13},children:[(0,n.jsx)(\"span\",{style:{width:3,height:\"100%\",backgroundColor:\"var(--brand)\",content:\"\",borderRadius:3,animation:\"bounce 2.2s ease infinite alternate\",transformOrigin:\"bottom\"}}),(0,n.jsx)(\"span\",{style:{width:3,height:\"100%\",backgroundColor:\"var(--brand)\",content:\"\",borderRadius:3,animation:\"bounce 2.2s ease infinite alternate\",transformOrigin:\"bottom\"}}),(0,n.jsx)(\"span\",{style:{width:3,height:\"100%\",backgroundColor:\"var(--brand)\",content:\"\",borderRadius:3,animation:\"bounce 2.2s ease infinite alternate\",transformOrigin:\"bottom\"}})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Now our bars are animating in height but aligned to the bottom! The last thing we need to do is change so that they are not animating at the same time. We want each bar to start animating at a different time so we'll reach for the animation-delay property. But we can't simply delay each bar, because then the animation would't look good the first few seconds. If we add a negative value to animation-delay, the animation will begin immediately but partway through its cycle. From \",(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/CSS/animation-delay\",children:\"MDN Docs\"}),\":\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"For example, if you specify -1s as the animation delay time, the animation will begin immediately but will start 1 second into the animation sequence.\"}),`\n`]}),`\n`,(0,n.jsx)(e.p,{children:\"Let's add different animation-delays to our bars with the :nth-of-type() selector:\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-scss\",children:(0,n.jsxs)(e.code,{className:\"language-scss code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token selector\",children:\"span \"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  &\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"nth-of-type\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"2\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"animation-delay\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" -2.2s\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"/* Start at the end of animation */\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  &\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"nth-of-type\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"3\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token property\",children:\"animation-delay\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),\" -3.7s\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"/* Start mid-way of return of animation */\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,n.jsx)(\"div\",{style:{padding:\"50px\",backgroundColor:\"var(--boxBg)\",borderRadius:\"5px\",textAlign:\"center\"},children:(0,n.jsx)(s,{})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Voila! We now have a smooth working animation, perfect for building a music widget like the one on this website or similar! Check out the \",(0,n.jsx)(e.a,{href:\"https://github.com/samuelkraft/samuelkraft-next/blob/master/components/nowplaying.module.scss\",children:\"full source code on GitHub\"}),\".\"]})]})}function x(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,Object.assign({},a,{children:(0,n.jsx)(d,a)})):d(a)}var v=x;function l(a,e,s){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(s?\"\\nIt\\u2019s referenced in your code at `\"+s+\"` in `/app/data/blog/_mdx_bundler_entry_point-ff4db8ae-9045-46ed-a8ff-6ea5fdd96226.mdx`\":\"\"))}return f(C);})();\n;return Component;"
  },
  "_id": "blog/animated-music-bars.mdx",
  "_raw": {
    "sourceFilePath": "blog/animated-music-bars.mdx",
    "sourceFileName": "animated-music-bars.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/animated-music-bars"
  },
  "type": "Post",
  "slug": "animated-music-bars",
  "image": "/blog/animated-music-bars/image.png",
  "og": "/blog/animated-music-bars/og.jpg"
}